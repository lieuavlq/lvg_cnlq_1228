function set_champs_related_info(a){return $.trim(a).length<12?"Thông tin Đồng đội và Khắc chế đang thêm vào..":a}function get_name_hero(a){return $("#all_champs.lvg_champs ."+a).prop("outerHTML")}function checkShow(a,e,i){return void 0!==i?a?e():i():a?e():void 0}$("document").ready(function(){var a,e,i=$("body"),n="http://lvgames.net/cnlq_app/images/",l='<a href="#" data-rel="back" class="ui-btn ui-icon-delete ui-btn-icon-notext ui-btn-right"></a>',s="http://lvgames.net/lienquan/wall/?champ=",p=lang_vn_file,t='<hr class="hr">';$("#lvg_filter_champs").focus(function(){$(this).val(""),$(".lvg_champs_class > span").removeClass("active")}),$("#lvg_filter_champs").keyup(function(){$(".lvg_champs_wrap").hide()}),$(this).on("click",".lvg_select_champs .ui-input-clear",function(){setTimeout(function(){$(".lvg_champs_wrap").show()},400)});var o=$(".lvg_champs_class > span");o.click(function(){o.removeClass("active"),$(this).addClass("active");var a=$(this).attr("data-value");$("#all_champs.lvg_champs > div").addClass("ui-screen-hidden"),$('#all_champs.lvg_champs > div[class*="'+a+'"]').removeClass("ui-screen-hidden"),$(".lvg_champs_wrap").hide()}),$(this).on("click",".hero-tap",function(){var o=$(this).attr("data-page");$("#hero-page").remove(),i.append('<div data-role="page" id="hero-page" class="'+$(this).parent().attr("class")+'"><div data-role="header" data-position="fixed" data-fullscreen="true"><a href="#main" class="ui-btn-left lvg_btn_back">Back</a><h1></h1><a href="#menu-left" class="ui-btn-right lvg_btn_news">News</a></div><div class="lvg_holder"><div data-role="tabs" id="hero-tabs" class="tabs-fixed"><div data-role="navbar"><ul><li><a href="#hero-tab01">Guide</a></li><li><a href="#hero-tab02">Tips</a></li><li><a href="#hero-tab03">Info</a></li><li><a href="#hero-tab04">Skins</a></li></ul></div><div id="hero-tab01"></div><div id="hero-tab02"></div><div id="hero-tab03"></div><div id="hero-tab04"></div></div></div></div>'),$("#hero-page").trigger("create"),$.ajax({url:"http://lvgames.net/cnlq_app/champs/"+o+".json",success:function(i){!function(i){var o=i,d=o.hero_id,r=o.hero_name,c=o.main_info,h=$("#hero-page"),v=h.find("#hero-tab01"),_=h.find("#hero-tab02"),g=h.find("#hero-tab03"),m=h.find("#hero-tab04");h.find("h1").html(r+"<span>"+o.main_info.position+"</span>"),$(".lvg_main_img").css({"background-image":"url("+n+"champs/"+o.hero_id+"/screen.jpg)"}),g.append("<h3>"+p.info_common+"</h3>"),checkShow(c.price_gold,function(){g.append('<p class="price">'+c.price_gold+"</p>")}),checkShow(c.price_voucher,function(){g.append('<p class="price voucher">'+c.price_voucher+"</p>")}),checkShow(c.price_text,function(){g.append('<p class="event">'+c.price_text+"</p>")}),g.append("<p><strong>"+p.hero_position+":</strong> "+c.position+"</p><p><strong>"+p.hero_special+":</strong> "+c.special+"</p>"),checkShow(c.lane,function(){g.append("<p><strong>"+p.hero_lane+":</strong> "+c.lane+"</p>")});var u=o.main_skill,f="";null!=$(".skills-wrap").attr("data-hero")&&(f=$(".skills-wrap").attr("data-hero"),$(".skills-wrap").attr("data-hero",d));for($('[id*="'+f+'_Skill"][class*="ui-popup"]').remove(),$(".skills-wrap").children().remove(),g.append(t),g.append("<h3>"+p.hero_skill+'</h3><p class="note">'+p.btn_tap+'</p><div class="lvg_skills detail"></div>'),$(".skills-wrap").append('<div id="'+d+'_Skill0" class="item ui-content" data-theme="a">'+l+"<strong>"+p.normal_skill+"</strong><p>"+p.normal_skill_info+"</p></div>"),a=0;a<4;a++)g.find(".lvg_skills.detail").append('<div><a href="#'+d+"_Skill"+(a+1)+'" class="btn_show_ads" data-rel="popup" data-position-to="window" style="background-image: url('+n+"champs/"+d+"/skill"+(a+1)+'.png)"></a></div>'),$(".skills-wrap").append('<div id="'+d+"_Skill"+(a+1)+'" class="item ui-content" data-theme="a">'+l+"<strong>"+u[a].name+"</strong><p>"+u[a].info+"</p></div>");$(".skills-wrap > .item").enhanceWithin().popup();var k=o.skill_up;for(_.append("<h3>"+p.skill_up+"</h3>"),_.append('<p class="note">*Từ 1 -> 15 là cấp độ của tướng, hãy tăng theo gợi ý.</p>'),a=0;a<k.length;a++)_.append("<p>"+k[a].name+'</p><div class="lvg_incskill_wrap"><div class="lvg_incskill_info"></div><div class="lvg_incskill"><div>'+k[a].line1+"</div><div>"+k[a].line2+"</div><div>"+k[a].line3+"</div></div>");for(_.find(".lvg_incskill").children("div").each(function(){var e=$(this).text().split(",");for($(this).text(""),a=1;a<=15;a++)$(this).append("<span>"+a+"</span>");for(var i=0;i<e.length;i++)$(this).children("span").eq(e[i]-1).addClass("active")}),a=0;a<4;a++)$(".lvg_incskill_info").append('<div><a href="#'+d+"_Skill"+(a+1)+'" class="btn_show_ads" data-rel="popup" data-position-to="window" style="background-image: url('+n+"champs/"+d+"/skill"+(a+1)+'.png)"></a></div>');_.append(t),_.append('<div class="lvg_combo"></div>');var b=o.skill_combo,w=_.find(".lvg_combo");for(w.append("<h3>Combo chiêu thức</h3>"),w.append('<p class="note">'+p.btn_tap+"</p>"),a=0;a<b.length;a++)w.append("<p>"+b[a].name+'</p><div class="combo" data-skill="'+d+'">'+b[a].info+"</div>");w.children(".combo").each(function(){var a=$(this).text(),i=a.split(",");for($(this).text(""),e=0;e<i.length;e++)"0"!=i[e]?$(this).append('<div><a href="#'+d+"_Skill"+i[e]+'" class="btn_show_ads" data-rel="popup" data-position-to="window" style="background-image: url('+n+"champs/"+d+"/skill"+i[e]+'.png)"></a></div>'):$(this).append('<div><a href="#'+d+"_Skill"+i[e]+'" data-rel="popup" data-position-to="window" style="background-image: url(shared/img/normal.png)"></a></div>')});var S=o.skill_special;v.append("<h3>"+p.hero_special_skill+'</h3><p class="note">'+p.btn_tap_spell+"</p><p>"+p.hero_special_skill_info+'</p><div class="lvg_skills_sp">'+S+"</div>");var y=v.find(".lvg_skills_sp"),x=y.text().split(",");for(y.text(""),a=0;a<x.length;a++)y.append('<div><a href="#'+x[a]+'" class="btn_show_ads" data-rel="popup" data-position-to="window" style="background-image: url('+n+"skills/"+x[a]+'.png)"></a></div>');v.append(t);var C=o.main_rune;for(v.append("<h3>"+p.hero_rune+"</h3>"),a=0;a<C.length;a++){var T=C[a].info,q="";for(e=0;e<T.length;e++)q+='<div><span class="rune" style="background-image: url('+n+"runes/"+T[e].name+'.png)"></span><div>'+T[e].info+"</div></div>";v.append("<p>"+C[a].name+'</p><div class="lvg_runes">'+q+"</div>")}v.append(t),v.append("<h3>"+p.item_title+'</h3><p class="note">'+p.btn_tap_item+"</p>");var j=o.item_build;for(a=0;a<j.length;a++){v.append("<p>"+(a+1)+". "+p.full_set+": "+j[a].name+'</p><div class="lvg_items build'+a+'"></div>');var M=j[a].info.split(",");for(e=0;e<M.length;e++)v.find(".lvg_items.build"+a).append('<div><a href="#'+M[e]+'" class="btn_show_ads" data-rel="popup" data-position-to="window" style="background-image: url('+n+"items/"+M[e]+'.png)"></a></div>')}var P=o.skill_note;_.append(t),_.append("<h3>Mẹo chơi</h3>"),_.append('<p class="note">*Một số mẹo nhỏ cho các bạn mới chơi tham khảo</p>'),_.append("<p>"+P+"</p>");var B=o.hero_battle;for(a=0;a<B.length;a++){var G="",H=B[a].info;for(_.append(t),_.append("<h3>"+B[a].name+"</h3>"),_.append('<p class="note">'+p.btn_tap_champs+"</p>"),e=0;e<H.length;e++)G+='<div class="lvg_champs_related"><div class="lvg_champs"><div>'+get_name_hero(H[e].hero_id)+"</div></div><p>"+set_champs_related_info(H[e].info)+"</p></div>";_.append(G)}$(".lvg_champs_related .ui-screen-hidden").removeClass("ui-screen-hidden"),g.append(t);var I=o.hero_story;g.append("<h3>"+p.hero_story+" "+r+'</h3><p class="lvg_champs_story">'+I+"</p>");var K=o.hero_skin;m.append('<p class="note">'+p.skin_note+"</p>"),m.append('<div class="lvg_slider"></div>');var L,N=m.find(".lvg_slider");for(a=0;a<K.length;a++)N.append('<div class="item'+(a+1)+'"></div>'),L=N.children(".item"+(a+1)),checkShow(K[a].wall,function(){L.append('<div class="thumb-wrap"><a href="'+s+K[a].wall+'" rel="external"><img src="'+n+"champs/"+d+"/"+K[a].img+'" alt=""></a></div>')}),L.append('<p class="skin-name">'+K[a].name+"</p>"),checkShow(K[a].gold,function(){L.append('<p class="price inline">'+K[a].gold+"</p>")}),checkShow(K[a].voucher,function(){L.append('<p class="price inline voucher">'+K[a].voucher+"</p>")}),checkShow(K[a].event,function(){L.append('<p class="event">'+K[a].event+"</p>")}),L.append('<a href="'+s+K[a].wall+'" rel="external" class="lvg_walls"><span>'+p.wall_download+"</span></a>")}(i)}}),$.mobile.changePage("#hero-page",{allowSamePageTransition:!0,transition:"none"})}),$(this).on("click","a[href*='#hero-tab0']",function(){$("html, body").animate({scrollTop:$("#hero-page").offset().top},1)}),$(this).on("click","a[href='#main']",function(){$(".lvg_main_img").attr("style","")})});